<main class="row">
  <div class="col-sm">
    <div class="body">
  <div *ngIf="menu" class="option">
        <p>New group</p>
        <p>New broadcast</p>
        <p>Linked Devices</p>
        <p>Starred messages</p>
        <p>Settings</p>
      </div>
      <div *ngIf="menuTwo" class="option2">
        <form class="d-flex" [formGroup]="forms">
          <i (click)="handleClickBTwo()" class="fa fa-arrow-left"></i>
          <input formControlName="message"  (input)="handleSearch()" placeholder="Search..."/>
          <div *ngIf="search" class="searchchat">
            <span  class="ml-2">{{isee}}</span>
            <div (click)="handleCli(indexSer)" *ngFor="let chat of searchchat, let j=index"  class="eachchat">
              <div class="picholder">
                <img src={{chat.img}} alt="">
              </div>
              <div class="messageholder">
                <h5 class="mt-2">{{chat.sender}}</h5>
                <p class="mychat">{{chat.message[0].message | slice:0:15}}...</p>
              </div>
              <div class="time">
                <p class="mt-3">{{chat.time}}</p>
              </div>
            </div>
            </div>
          <div *ngIf="searchTwo" class="searchchat p-2">
            <span class="ml-2">Recent Updates</span>
            <hr>
            <span  class="ml-2">{{isee}}</span>
            <div (click)="handleCliTwo(j)" *ngFor="let chat of searchchat, let j=index"  class="eachchat">
              <div class="picholder">
                <img *ngIf="chat.mystat=='image'" class="sta" src={{chat.img}} alt="">
                <div *ngIf="chat.mystat=='message'"class="statt bg-danger">>{{chat.status}}</div>
              </div>
              <div class="messageholder">
                <h5 class="mt-2">{{chat.sender}}</h5>
                <p>{{chat.time}}</p>
              </div>
              <div class="time"></div>
              <div class="time"></div>
              <div class="time"></div>
            </div>
            </div>
          <div *ngIf="searchThree" class="searchchat p-2">
            <span  class="ml-2">{{isee}}</span>
            <div (click)="handleCliThree(j)" *ngFor="let chat of searchchat, let j=index"  class="eachchat">
              <div class="picholder">
                <img src={{chat.img}} alt="">
              </div>
              <div class="messageholder">
                <h5 class="mt-2">{{chat.sender}}</h5>
                <p class="mychat"><i *ngIf="chat.detail=='received'" style="color:#1AC0A3;margin-left: -5px;"
                    class="fa fa-long-arrow-down"></i><i *ngIf="chat.detail=='missed'" style="color:red; margin-left: -5px;"
                    class="fa fa-long-arrow-down"></i><i *ngIf="chat.detail=='call'" style="color:#1AC0A3;margin-left: -5px;"
                    class="fa fa-long-arrow-up"></i>{{chat.date}},{{chat.time}}</p>
              </div>
              <div (click)="handleCallme(q)" class="time" style="margin-top: 10px;">
                <i class="fa fa-phone"></i>
              </div>
            </div>
            </div>
        </form>
        <div class="button">
          <button><i class="fa fa-photo"></i><span class="ml-2">Photos</span></button>
          <button><i class="fa fa-tv"></i><span class="ml-2">Videos</span></button>
          <button><i class="fa fa-paperclip"></i><span class="ml-2">Links</span></button>
          <button class="gif"><i class="text-white">GIF</i><span class="ml-2">GIFs</span></button>
          <button><i class="fa fa-music"></i><span class="ml-2">Audio</span></button>
          <button style="width: fit-content;"><i class="fa fa-file-text"></i><span class="ml-2">Document</span></button>
        </div>
      </div>
      <div (click)="handleClickB()" class="header">
        <div class="holder p-4 d-flex justify-content-between align-items-center">
          <div style="font-size: 18px; margin-top: -5px;">Whatsapp</div>
          <div class="d-flex justify-content-between align-items-center">
            <i (click)="handleMenuTwo()" style="font-size: 18px;" class="fa fa-search mr-5"></i>
            <i (click)="handleMenu()" style="font-size: 18px;" class="fa fa-ellipsis-v"></i>
          </div>
        </div>
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#camera">
              <i (click)="handleCamera()" class="fa fa-camera"></i>
            </a>
          </li>
          <li (click)="handleCheckme()"  class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#chats">CHATS</a>
          </li>
          <li (click)="handleCheckmeone()" class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#status">STATUS</a>
          </li>
          <li (click)="handleCheckmetwo()" class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#calls">CALLS</a>
          </li>

        </ul>
      </div>


      <div class="tab-content">
        <div class="tab-pane container" id="camera">
         <!-- <p (click)="getContacts()">contact</p> -->
        </div>

        <div class="tab-pane container active" id="chats">
          <div routerLink="/newcontact" class="float d-flex justify-content-center align-items-center">
            <i class="fa fa-comment"></i>
          </div>
          <div routerLink="/room/{{i}}" *ngFor="let chat of chatsArray, let i=index" class="eachchat">
            <div class="picholder">
              <img src={{chat.img}} alt="">
            </div>
            <div class="messageholder">
              <h5 class="mt-2">{{chat.sender}}</h5>
              <p class="mychat">{{chat.message[chat.message.length-1].message | slice:0:15}}...</p>
            </div>
            <div class="time">
              <p class="mt-3">{{chat.time}}</p>
            </div>
          </div>
        </div>
        <div class="tab-pane container" id="status">
          <div *ngIf="status" class="statusview">
            <div [hidden]="hide" class="probar">
             <div id="bar" [style.width]="width" class="bar"></div>
             </div>
             <div [hidden]="hide" class="ml-2">
              <div (click)="handleRoute()" class="ml-2">
               <i class="fa fa-arrow-left"></i>
              </div>
              <div class="picholder d-flex">
               <img class="mt-4" src={{myService.statusArray[statusIndex].myImg}} alt="">
               <div class="mt-4">
                <h5 class="ml-2">{{myService.statusArray[statusIndex].sender}}</h5>
                <p style="margin-top: -10px;" class="ml-2" >{{myService.statusArray[statusIndex].time}}</p>
              </div>
              </div>
              <div class="adjust">
                <i class="fa fa-ellipsis-v"></i>
               </div>
             </div>
             <div (pointerdown)="handlePause()" (pointerup)="handleStart()" class="holdme">
              <img *ngIf="myService.statusArray[statusIndex].mystat=='image'" src={{myService.statusArray[statusIndex].img}} alt="">
              <div *ngIf="myService.statusArray[statusIndex].mystat=='message'" class="messa">{{myService.statusArray[statusIndex].status}}</div>
             </div>
             <div class="text-white down">
               <div class="chevup"><i class="fa fa-chevron-up"></i></div>
               <div class="reply"><p>REPLY</p></div>
             </div>
          </div>
          <div *ngIf="statusTwo" class="statusview">
            <div [hidden]="hide" class="probar">
             <div id="bar" [style.width]="width" class="bar"></div>
            </div>
            <div [hidden]="hide" class="ml-2">
              <div (click)="handleRoute()" class="ml-2">
               <i class="fa fa-arrow-left"></i>
              </div>
              <div class="picholder d-flex">
               <img class="mt-4" src="../../assets/Eben.jpg" alt="">
               <div class="mt-4">
                <h5 class="ml-2">My status</h5>
                <p style="margin-top: -10px;" class="ml-2" >Today, 11:55 AM</p>
              </div>
              </div>
              <div class="adjust">
                <i class="fa fa-ellipsis-v"></i>
               </div>
             </div>
             <div (mousedown)="handlePause()" (mouseup)="handleStart()" class="holdme">
              <img  src="../../assets/Eben.jpg" alt="">
              <!-- <div *ngIf="myService.statusArray[statusIndex].mystat=='message'" class="messa">{{myService.statusArray[statusIndex].status}}</div> -->
             </div>
             <div class="text-white down">
               <div class="chevup"><i class="fa fa-eye"></i></div>
               <div class="reply"><p>100</p></div>
             </div>
          </div>
          <div class="float pencil d-flex justify-content-center align-items-center">
            <i class="fa fa-pencil"></i>
          </div>
          <div class="float d-flex justify-content-center align-items-center">
            <i class="fa fa-camera"></i>
          </div>
          <div (click)="handleMyStatus()" class="eachchat">
            <div class="picholder">
              <img class="sta" src="../../assets/Eben.jpg" alt="">
            </div>
            <div class="messageholder holdit">
              <h5 class="mt-2">My status</h5>
              <p>Today, 11:55 AM</p>
            </div>
            <div class="time">
              <i class="fa fa-ellipsis-h mt-4"></i>
            </div>
          </div>
          <div>
            <p class="mb-3">Recent Updates</p>
          </div>
          <div (click)="handleStatus(i)" *ngFor="let chat of statusArray; let i=index" class="eachchat">
            <div class="picholder">
              <img *ngIf="chat.mystat=='image'" class="sta" src={{chat.img}} alt="">
              <div *ngIf="chat.mystat=='message'" class="statt bg-danger">{{chat.status}}</div>
            </div>
            <div class="messageholder holdit">
              <h5 class="mt-2">{{chat.sender}}</h5>
              <p>{{chat.time}}</p>
            </div>
            <div class="time">
            </div>
          </div>
        </div>

        <div class="tab-pane container" id="calls">
          <div *ngIf="callit" class="callchat text-white">
            <div class="up">
              <div class=""><i class="fa fa-angle-down"></i></div>
          <div class="host">
            <div class="ml-3"><i class="fa fa-lock"></i><span class="ml-1">End to-end encrypted</span></div>
            <div class="callee"><p>{{myService.callArray[myIndex].sender}}</p></div>
            <p class="calling">{{stat}}</p>
          </div>
          <div></div>
            </div>
          <div class="center">
           <img src={{myService.callArray[myIndex].img}} alt="">
           <i (click)="handleHangUp()" class="fa fa-phone"></i>
          </div>
          <div class="down">
            <i class="fa fa-volume-off"></i>
            <i class="fa fa-tv"></i>
            <i class="fa fa-microphone-slash"></i>
          </div>
         </div>
          <div class="float d-flex justify-content-center align-items-center">
            <i class="fa fa-phone"></i>
          </div>
          <div *ngFor="let chat of callArray; let q=index" class="eachchat">
            <div class="picholder">
              <img src={{chat.img}} alt="">
            </div>
            <div class="messageholder">
              <h5 class="mt-2">{{chat.sender}}</h5>
              <p class="mychat"><i *ngIf="chat.detail=='received'" style="color:#1AC0A3;"
                  class="fa fa-long-arrow-down"></i><i *ngIf="chat.detail=='missed'" style="color:red;"
                  class="fa fa-long-arrow-down"></i><i *ngIf="chat.detail=='call'" style="color:#1AC0A3;"
                  class="fa fa-long-arrow-up"></i>{{chat.date}},{{chat.time}}</p>
            </div>
            <div (click)="handleCallme(q)" class="time">
              <i class="fa fa-phone"></i>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</main>
<router-outlet></router-outlet>